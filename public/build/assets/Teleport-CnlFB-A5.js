import{i as te}from"./Presence-DdyIZjaa.js";import{d as ne,h as re,j as se,k as oe}from"./index-ByIodvIB.js";import{c as ie,g as ae,a as C,h as K,j as ue}from"./index-Bwf6hmy-.js";import{c as O,p as g,D as Y,R as P,y as ce,l as _,N as L,d as N,q as $,g as W,o as x,w as z,z as R,u as S,Q as le,m as de,E as fe}from"./app-Dk7wiUrI.js";import{u as V}from"./useForwardExpose-R4Ux4IDr.js";import{P as X}from"./Primitive-Cx6Px44i.js";import{g as w}from"./getActiveElement-FUKBWQwh.js";function G(e,t,n){const r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(i)}function A(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function M(e,t,n=".",r){if(!A(t))return M(e,{},n,r);const i=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const c=e[s];c!=null&&(r&&r(i,s,c,n)||(Array.isArray(c)&&Array.isArray(i[s])?i[s]=[...c,...i[s]]:A(c)&&A(i[s])?i[s]=M(c,i[s],(n?`${n}.`:"")+s.toString(),r):i[s]=c))}return i}function ve(e){return(...t)=>t.reduce((n,r)=>M(n,r,"",e),{})}const pe=ve(),ye=ie(()=>{const e=g(new Map),t=g(),n=O(()=>{for(const c of e.value.values())if(c)return!0;return!1}),r=te({scrollBody:g(!0)});let i=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",K&&i?.(),t.value=void 0};return Y(n,(c,d)=>{if(!C)return;if(!c){d&&s();return}t.value===void 0&&(t.value=document.body.style.overflow);const f=window.innerWidth-document.documentElement.clientWidth,y={padding:f,margin:0},a=r.scrollBody?.value?typeof r.scrollBody.value=="object"?pe({padding:r.scrollBody.value.padding===!0?f:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?f:r.scrollBody.value.margin},y):y:{padding:0,margin:0};f>0&&(document.body.style.paddingRight=typeof a.padding=="number"?`${a.padding}px`:String(a.padding),document.body.style.marginRight=typeof a.margin=="number"?`${a.margin}px`:String(a.margin),document.documentElement.style.setProperty("--scrollbar-width",`${f}px`),document.body.style.overflow="hidden"),K&&(i=ne(document,"touchmove",o=>me(o),{passive:!1})),P(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Ye(e){const t=Math.random().toString(36).substring(2,7),n=ye();n.value.set(t,e??!1);const r=O({get:()=>n.value.get(t)??!1,set:i=>n.value.set(t,i)});return ae(()=>{n.value.delete(t)}),r}function Q(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Q(n)}}function me(e){const t=e||window.event,n=t.target;return n instanceof Element&&Q(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}var he=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},D=new WeakMap,T=new WeakMap,F={},k=0,J=function(e){return e&&(e.host||J(e.parentNode))},Ee=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=J(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},be=function(e,t,n,r){var i=Ee(t,Array.isArray(e)?e:[e]);F[n]||(F[n]=new WeakMap);var s=F[n],c=[],d=new Set,f=new Set(i),y=function(o){!o||d.has(o)||(d.add(o),y(o.parentNode))};i.forEach(y);var a=function(o){!o||f.has(o)||Array.prototype.forEach.call(o.children,function(l){if(d.has(l))a(l);else try{var m=l.getAttribute(r),u=m!==null&&m!=="false",v=(D.get(l)||0)+1,p=(s.get(l)||0)+1;D.set(l,v),s.set(l,p),c.push(l),v===1&&u&&T.set(l,!0),p===1&&l.setAttribute(n,"true"),u||l.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",l,E)}})};return a(t),d.clear(),k++,function(){c.forEach(function(o){var l=D.get(o)-1,m=s.get(o)-1;D.set(o,l),s.set(o,m),l||(T.has(o)||o.removeAttribute(r),T.delete(o)),m||o.removeAttribute(n)}),k--,k||(D=new WeakMap,D=new WeakMap,T=new WeakMap,F={})}},ge=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=he(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),be(r,i,n,"aria-hidden")):function(){return null}};function $e(e){let t;Y(()=>re(e),n=>{n?t=ge(n):t&&t()}),ce(()=>{t&&t()})}const we="dismissableLayer.pointerDownOutside",Oe="dismissableLayer.focusOutside";function Z(e,t){const n=t.closest("[data-dismissable-layer]"),r=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),i=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(r===n||i.indexOf(r)<i.indexOf(n)))}function Se(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,i=g(!1),s=g(()=>{});return _(c=>{if(!C||!L(n))return;const d=async y=>{const a=y.target;if(!(!t?.value||!a)){if(Z(t.value,a)){i.value=!1;return}if(y.target&&!i.value){let l=function(){G(we,e,o)};const o={originalEvent:y};y.pointerType==="touch"?(r.removeEventListener("click",s.value),s.value=l,r.addEventListener("click",s.value,{once:!0})):l()}else r.removeEventListener("click",s.value);i.value=!1}},f=window.setTimeout(()=>{r.addEventListener("pointerdown",d)},0);c(()=>{window.clearTimeout(f),r.removeEventListener("pointerdown",d),r.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>{L(n)&&(i.value=!0)}}}function De(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,i=g(!1);return _(s=>{if(!C||!L(n))return;const c=async d=>{if(!t?.value)return;await P(),await P();const f=d.target;!t.value||!f||Z(t.value,f)||d.target&&!i.value&&G(Oe,e,{originalEvent:d})};r.addEventListener("focusin",c),s(()=>r.removeEventListener("focusin",c))}),{onFocusCapture:()=>{L(n)&&(i.value=!0)},onBlurCapture:()=>{L(n)&&(i.value=!1)}}}const h=$({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var _e=N({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:i,currentElement:s}=V(),c=O(()=>s.value?.ownerDocument??globalThis.document),d=O(()=>h.layersRoot),f=O(()=>s.value?Array.from(d.value).indexOf(s.value):-1),y=O(()=>h.layersWithOutsidePointerEventsDisabled.size>0),a=O(()=>{const u=Array.from(d.value),[v]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),p=u.indexOf(v);return f.value>=p}),o=Se(async u=>{const v=[...h.branches].some(p=>p?.contains(u.target));!a.value||v||(r("pointerDownOutside",u),r("interactOutside",u),await P(),u.defaultPrevented||r("dismiss"))},s),l=De(u=>{[...h.branches].some(p=>p?.contains(u.target))||(r("focusOutside",u),r("interactOutside",u),u.defaultPrevented||r("dismiss"))},s);se("Escape",u=>{f.value===d.value.size-1&&(r("escapeKeyDown",u),u.defaultPrevented||r("dismiss"))});let m;return _(u=>{s.value&&(n.disableOutsidePointerEvents&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(m=c.value.body.style.pointerEvents,c.value.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(s.value)),d.value.add(s.value),u(()=>{n.disableOutsidePointerEvents&&h.layersWithOutsidePointerEventsDisabled.size===1&&(c.value.body.style.pointerEvents=m)}))}),_(u=>{u(()=>{s.value&&(d.value.delete(s.value),h.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(u,v)=>(x(),W(S(X),{ref:S(i),"as-child":u.asChild,as:u.as,"data-dismissable-layer":"",style:le({pointerEvents:y.value?a.value?"auto":"none":void 0}),onFocusCapture:S(l).onFocusCapture,onBlurCapture:S(l).onBlurCapture,onPointerdownCapture:S(o).onPointerDownCapture},{default:z(()=>[R(u.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),ze=_e;const Le=ue(()=>g([]));function Pe(){const e=Le();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=U(e.value,t),e.value.unshift(t)},remove(t){e.value=U(e.value,t),e.value[0]?.resume()}}}function U(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Te(e){return e.filter(t=>t.tagName!=="A")}const B="focusScope.autoFocusOnMount",I="focusScope.autoFocusOnUnmount",q={bubbles:!1,cancelable:!0};function Fe(e,{select:t=!1}={}){const n=w();for(const r of e)if(b(r,{select:t}),w()!==n)return!0}function Ce(e){const t=ee(e),n=j(t,e),r=j(t.reverse(),e);return[n,r]}function ee(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function j(e,t){for(const n of e)if(!Ae(n,{upTo:t}))return n}function Ae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ke(e){return e instanceof HTMLInputElement&&"select"in e}function b(e,{select:t=!1}={}){if(e&&e.focus){const n=w();e.focus({preventScroll:!0}),e!==n&&ke(e)&&t&&e.select()}}var Be=N({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,r=t,{currentRef:i,currentElement:s}=V(),c=g(null),d=Pe(),f=$({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});_(a=>{if(!C)return;const o=s.value;if(!n.trapped)return;function l(p){if(f.paused||!o)return;const E=p.target;o.contains(E)?c.value=E:b(c.value,{select:!0})}function m(p){if(f.paused||!o)return;const E=p.relatedTarget;E!==null&&(o.contains(E)||b(c.value,{select:!0}))}function u(p){o.contains(c.value)||b(o)}document.addEventListener("focusin",l),document.addEventListener("focusout",m);const v=new MutationObserver(u);o&&v.observe(o,{childList:!0,subtree:!0}),a(()=>{document.removeEventListener("focusin",l),document.removeEventListener("focusout",m),v.disconnect()})}),_(async a=>{const o=s.value;if(await P(),!o)return;d.add(f);const l=w();if(!o.contains(l)){const u=new CustomEvent(B,q);o.addEventListener(B,v=>r("mountAutoFocus",v)),o.dispatchEvent(u),u.defaultPrevented||(Fe(Te(ee(o)),{select:!0}),w()===l&&b(o))}a(()=>{o.removeEventListener(B,p=>r("mountAutoFocus",p));const u=new CustomEvent(I,q),v=p=>{r("unmountAutoFocus",p)};o.addEventListener(I,v),o.dispatchEvent(u),setTimeout(()=>{u.defaultPrevented||b(l??document.body,{select:!0}),o.removeEventListener(I,v),d.remove(f)},0)})});function y(a){if(!n.loop&&!n.trapped||f.paused)return;const o=a.key==="Tab"&&!a.altKey&&!a.ctrlKey&&!a.metaKey,l=w();if(o&&l){const m=a.currentTarget,[u,v]=Ce(m);u&&v?!a.shiftKey&&l===v?(a.preventDefault(),n.loop&&b(u,{select:!0})):a.shiftKey&&l===u&&(a.preventDefault(),n.loop&&b(v,{select:!0})):l===m&&a.preventDefault()}}return(a,o)=>(x(),W(S(X),{ref_key:"currentRef",ref:i,tabindex:"-1","as-child":a.asChild,as:a.as,onKeydown:y},{default:z(()=>[R(a.$slots,"default")]),_:3},8,["as-child","as"]))}}),Ve=Be;const Xe="menu.itemSelect",H=["Enter"," "],Ie=["ArrowDown","PageUp","Home"],Me=["ArrowUp","PageDown","End"],Ge=[...Ie,...Me];[...H],[...H];function Qe(e){return e?"open":"closed"}function Je(e){const t=w();for(const n of e)if(n===t||(n.focus(),w()!==t))return}function Ne(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,c=t.length-1;s<t.length;c=s++){const d=t[s].x,f=t[s].y,y=t[c].x,a=t[c].y;f>r!=a>r&&n<(y-d)*(r-f)/(a-f)+d&&(i=!i)}return i}function Ze(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Ne(n,t)}function et(e){return e.pointerType==="mouse"}var We=N({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=oe();return(n,r)=>S(t)||n.forceMount?(x(),W(fe,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[R(n.$slots,"default")],8,["to","disabled","defer"])):de("v-if",!0)}}),tt=We;export{ze as D,Ve as F,Xe as I,Me as L,H as S,tt as T,Ge as a,et as b,$e as c,Je as f,Qe as g,Ze as i,Ye as u};
