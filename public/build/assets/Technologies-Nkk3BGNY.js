import{c as H}from"./utils-TfETDaq2.js";import{d as L,g as f,C as B,A as j,j as J,D as K,a as N,o as O,p as W,u as V,b as tt,e as et}from"./app-Uo57rSMT.js";const st=L({__name:"IconCloud",props:{class:{},images:{}},setup(D){const E=D,{images:g}=E,u=f(null),w=f(0),P=f([]),A=f([]),_=f([]),o=B({x:0,y:0}),C=f(!1),v=B({x:0,y:0}),z=B({x:0,y:0}),R=f(null);function Z(t){return 1-(1-t)**3}j(()=>{if(!g)return;A.value=new Array(g.length).fill(!1);const t=g.map((e,c)=>{const a=document.createElement("canvas");a.width=40,a.height=40;const s=a.getContext("2d");if(!s)return a;const r=new Image;return r.crossOrigin="anonymous",r.src=e,r.onload=()=>{s.clearRect(0,0,a.width,a.height),s.beginPath(),s.arc(20,20,20,0,Math.PI*2),s.closePath(),s.clip(),s.drawImage(r,0,0,40,40),A.value[c]=!0},a});P.value=t}),j(()=>{const t=g?.length||0;if(t===0){_.value=[];return}const e=[],c=2/t,a=Math.PI*(3-Math.sqrt(5));for(let s=0;s<t;s++){const r=s*c-1+c/2,n=Math.sqrt(1-r*r),x=s*a,b=Math.cos(x)*n,d=Math.sin(x)*n;e.push({x:b*100,y:r*100,z:d*100,scale:1,opacity:1,id:s})}_.value=e});function Q(t){const e=u.value;if(!e)return;const c=e.getBoundingClientRect(),a=t.clientX-c.left,s=t.clientY-c.top;e.getContext("2d")&&(_.value.forEach(n=>{const x=Math.cos(o.x),b=Math.sin(o.x),d=Math.cos(o.y),i=Math.sin(o.y),h=n.x*d-n.z*i,p=n.x*i+n.z*d,X=n.y*x+p*b,M=e.width/2+h,y=e.height/2+X,l=20*((p+200)/300),m=a-M,Y=s-y;if(m*m+Y*Y<l*l){const q=-Math.atan2(n.y,Math.sqrt(n.x*n.x+n.z*n.z)),F=Math.atan2(n.x,n.z),$=o.x,T=o.y,U=Math.sqrt((q-$)**2+(F-T)**2),G=Math.min(2e3,Math.max(800,U*1e3));R.value={x:q,y:F,startX:$,startY:T,distance:U,startTime:performance.now(),duration:G};return}}),C.value=!0,v.x=t.clientX,v.y=t.clientY)}function S(t){const e=u.value;if(!e)return;const c=e.getBoundingClientRect();if(z.x=t.clientX-c.left,z.y=t.clientY-c.top,C.value){const a=t.clientX-v.x,s=t.clientY-v.y;o.x+=s*.002,o.y+=a*.002,v.x=t.clientX,v.y=t.clientY}}function k(){C.value=!1}return J(()=>{const t=u.value;if(!t)return;const e=t.getContext("2d");if(!e)return;function c(){e.clearRect(0,0,t.width,t.height);const a=t.width/2,s=t.height/2,r=z.x-a,n=z.y-s,x=Math.sqrt(a*a+s*s),d=.003+Math.sqrt(r*r+n*n)/x*.01;if(R.value){const{startX:i,startY:h,x:p,y:X,startTime:M,duration:y}=R.value,I=performance.now()-M,l=Math.min(1,I/y),m=Z(l);o.x=i+(p-i)*m,o.y=h+(X-h)*m,l>=1&&(R.value=null)}else C.value||(o.x+=n/t.height*d,o.y+=r/t.width*d);_.value.forEach((i,h)=>{const p=Math.cos(o.x),X=Math.sin(o.x),M=Math.cos(o.y),y=Math.sin(o.y),I=i.x*M-i.z*y,l=i.x*y+i.z*M,m=i.y*p+l*X,Y=(l+200)/300,q=Math.max(.2,Math.min(1,(l+150)/200));e.save(),e.translate(a+I,s+m),e.scale(Y,Y),e.globalAlpha=q,P.value[h]&&A.value[h]&&e.drawImage(P.value[h],-20,-20,40,40),e.restore()}),w.value=requestAnimationFrame(c)}w.value=requestAnimationFrame(c)}),K(()=>{w.value&&cancelAnimationFrame(w.value)}),(t,e)=>(O(),N("canvas",{ref_key:"canvasRef",ref:u,width:"300",height:"300",class:W(V(H)("rounded-lg",t.$props.class)),role:"img","aria-label":"Interactive 3D Image Cloud",onMousedown:Q,onMousemove:S,onMouseup:k,onMouseleave:k},null,34))}}),nt={class:"relative hidden lg:block"},at={class:"grid place-content-center p-6 absolute bottom-0 right-0"},rt=L({__name:"Technologies",setup(D){const g=["typescript","javascript","vue","laravel","html5","css3","MySQL","nginx","git","github","visualstudiocode","figma"].map(u=>`https://cdn.simpleicons.org/${u}/${u}`);return(u,w)=>(O(),N("div",nt,[tt("div",at,[et(st,{images:V(g)},null,8,["images"])])]))}});export{rt as default};
